
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <title>Document</title>
    <style>
        body{
            font-family: Helvetica;
        }
    </style>
</head>
<body>
    
  <nav class="bg-white border-gray-200 border-2">
    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
      <a href="https://nits.ac.in/" class="flex items-center">
          <img src="https://upload.wikimedia.org/wikipedia/en/thumb/7/71/National_Institute_Of_Technology_Silchar_Logo.svg/1200px-National_Institute_Of_Technology_Silchar_Logo.svg.png" class="h-8 mr-3" alt="College Logo" />
          <span class="self-center text-2xl font-semibold whitespace-nowrap">NIT Silchar</span>
      </a>
      <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-controls="navbar-default" aria-expanded="false">
        <span class="sr-only">Open main menu</span>
        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
      </button>
        <div class="group relative">
            <button id="dropdownHoverButton" data-dropdown-toggle="dropdownHover" data-dropdown-trigger="hover" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" type="button">Created by <svg class="w-4 h-4 ml-2" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button>
            <!-- Dropdown menu -->
            <div id="dropdownHover" class="z-10 hidden group-hover:block absolute bg-white divide-y divide-gray-100 rounded-lg shadow w-44">
                <ul class="py-2 text-sm text-gray-700 " aria-labelledby="dropdownHoverButton">
                <li>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100 ">Edipelly Bharadwaj</a>
                </li>
                <li>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100 ">Pranjal Esh Choudhury</a>
                </li>
                <li>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100 ">Dhruba Jyoti Boro</a>
                </li>
                </ul>
            </div>
        </div>

      <!-- <div class="hidden w-full md:block md:w-auto" id="navbar-default">
        <ul class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white">
          <li>
            <a href="#" class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0">Edipelly Bharadwaj</a>
          </li>
          <li>
            <a href="#" class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0">Pranjal Esh Choudhury</a>
          </li>
          <li>
            <a href="#" class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 ">Dhruba Jyoti Boro</a>
          </li>
        </ul>
      </div> -->
    </div>
  </nav>
  <div class="grid grid-cols-8 mx-12 my-4">
    <div class="col-span-2 flex flex-col items-center justify-center gap-3">
       
        <ul class="w-4/6 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg">
          <li class="w-full px-4 py-2 border-b border-gray-200 rounded-t-lg cursor-pointer hover:bg-gray-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700"> <p class="font-semibold">List of trained classes : <span class="text-indigo-500">7</span></p></li>
            <li class="w-full px-4 py-2 border-b border-gray-200 rounded-t-lg cursor-pointer hover:bg-gray-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700">Melanomacytic nevi </li>
            <li class="w-full px-4 py-2 border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700">Melanoma </li>
            <li class="w-full px-4 py-2 border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700">Benign Keratosis-like lesions </li>
            <li class="w-full px-4 py-2 border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700">Actinic keratoses </li>
            <li class="w-full px-4 py-2 border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700">Vascular lesions </li>
            <li class="w-full px-4 py-2 border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700">Dermatofibroma </li>
            <li class="w-full px-4 py-2 rounded-b-lg cursor-pointer hover:bg-gray-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700">Basal cell carcinoma </li>
        </ul>
    </div>
  <div class="col-span-6 flex flex-col items-center justify-center h-[80vh] p-6 gap-4">
    <div class="text-center flex flex-col gap-4 mb-20 font-semibold">
        <p>This application can be used for initial diagnosis of skin diseases.</p> 
        <p>This ML model can detect skin cancers belonging to these <strong>7</strong> classes.</p> 
    </div>
     <div class="flex flex-col text-center gap-4" id="load">
                <p class="text-2xl font-light text-blue" >Loading the model....Please wait!!</p>
                <img src="https://media.tenor.com/VVrTk5ABuiYAAAAC/mr-bean-mr.gif" alt="Mr.Bean-Waiting" class="rounded-2xl">
            </div>
    <button class="px-6 py-4 bg-indigo-500 rounded-lg hover:scale-110 hidden" id="btn_upload">
        <label for="dropzone-file">
            <div class="inline-flex mr-2">
                <svg fill="#ffffff" height="20px" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    viewBox="0 0 330 330" xml:space="preserve">
                    <g id="XMLID_2_">
                        <path id="XMLID_4_" d="M315,0h-60c-8.284,0-15,6.716-15,15s6.716,15,15,15h45v45c0,8.284,6.716,15,15,15c8.284,0,15-6.716,15-15V15
                            C330,6.716,323.284,0,315,0z"/>
                        <path id="XMLID_5_" d="M267.043,165.248c-2.83-3.811-7.296-6.058-12.043-6.058c-4.747,0-9.213,2.247-12.044,6.058l-47.53,64.016
                            l-78.093-112.802C114.531,112.415,109.922,110,105,110c-4.922,0-9.531,2.415-12.333,6.462l-90,130C0.93,248.97,0,251.949,0,255v60
                            c0,8.284,6.716,15,15,15h60c8.284,0,15-6.716,15-15s-6.716-15-15-15H30v-40.315l75-108.333l77.667,112.186
                            c2.752,3.975,7.251,6.38,12.084,6.46c4.862,0.107,9.41-2.174,12.292-6.056L255,199.352l45,60.608V300h-45c-8.284,0-15,6.716-15,15
                            s6.716,15,15,15h60c8.284,0,15-6.716,15-15v-60c0-3.221-1.037-6.356-2.957-8.942L267.043,165.248z"/>
                        <path id="XMLID_6_" d="M15,90c8.284,0,15-6.716,15-15V30h45c8.284,0,15-6.716,15-15S83.284,0,75,0H15C6.716,0,0,6.716,0,15v60
                            C0,83.284,6.716,90,15,90z"/>
                        <path id="XMLID_7_" d="M195,150c27.57,0,50-22.43,50-50s-22.43-50-50-50s-50,22.43-50,50S167.43,150,195,150z M195,80
                            c11.028,0,20,8.972,20,20s-8.972,20-20,20c-11.028,0-20-8.972-20-20S183.972,80,195,80z"/>
                    </g>
                </svg>
            </div>
            <span class="text-white cursor-pointer col-span-1">Upload Image</span>
            <input id="dropzone-file" type="file" class="hidden" onchange="loadFile(event)"
            />
        </label>
    </button>
    <img id="output" width="200" />
    <button class="p-4 bg-blue-500 text-white rounded-md hidden hover:scale-110" onclick="predict()" id="btn_predict" >Predict</button>
    <h1 id="prediction" class="text-3xl font-bold"></h1>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
<!-- <script src="./index.js" type="module"> </script> -->
<script>
  const tf = window.tf;
  let model;
  async function LoadModel () {
    console.log("testing")
      model = await tf.loadLayersModel('new/model.json');
      console.log(model)
      let uploadBtn = document.getElementById('btn_upload');
            let loading = document.getElementById('load');
            let predictBtn = document.getElementById('btn_predict');

            loading.style.display = "none";
            uploadBtn.style.display = "block";
            predictBtn.style.display = "block";
  }
  LoadModel();
  let loadFile = function(event) {
            console.log("Loading...")
            let image = document.getElementById('output');
            image.src = URL.createObjectURL(event.target.files[0]);
            let ans=document.getElementById('prediction');
            ans.innerHTML ='';
        };
let predict = async function (){
            console.log('predicting...');
            let image = document.getElementById('output');
            const classNames=["Actinic keratoses","Basal cell carcinoma","Benign Keratosis-like lesions","Dermatofibroma","Melanoma","Melanomacytic nevi","Vascular lesions"]
            let tensorImg = tf.browser.fromPixels(image).resizeNearestNeighbor([224,224]).toFloat().expandDims();
            let prediction = await model.predict(tensorImg).data();
            console.log(prediction)
            let index=prediction.indexOf(Math.max(...prediction))
            let ans=document.getElementById("prediction")
            ans.innerHTML=classNames[index]
        }
     </script>
</body>
</html>
